---
{"dg-publish":true,"permalink":"/04//05//17/","title":"17-※系统架构设计","tags":["软考","系统架构设计师"]}
---


所属知识库：[[04-知识仓库/归纳目录/05-学习笔记/系统架构设计师学习笔记\|系统架构设计师学习笔记]]

## 1 概述

此章节属于重点中的重点，不看必挂的章节。选择题，案例，论文都会进行重点考察。这里会把质量属性，质量效用树，评估都放在这里来方便一把梭。

选择题部分每年至少 8-10 分，常考架构风格，ABSD,ATAM,DSSA 相关概念，质量属性，架构评估，必须熟记，背出。

案例部分主要考察质量属性识别，软件架构风格之间的对比。几乎一年一题考到就是送分。

论文部分，2019 年考察《论软件系统架构评估及其应用》，2018 年考察《论软件体系结构的演化》，2017 年考察《论软件架构风格》，2016 年考察《论系统架构评估其应用》，2015 年考察《论软件系统架构风格》，2012 年考察《论基于架构的软件设计方法及应用》，2009 年考察《论基于 DSSA 的软件架构设计与应用》，已经 4 年没有考相关的内容了，这里几乎把所有系统架构相关的知识都扫了一遍。

**系统架构设计定义**：
- 系统架构是关于软件系统的结构、行为和属性的高级抽象。
- 架构不仅指定了软件系统的组织结构和拓扑结构，还表示了系统需求和构成组件之间的对应关系。

**软件架构设计与生命周期**：
- 包括需求分析阶段、设计阶段、实现阶段、构件组装阶段、部署阶段和后开发阶段。
- 需求分析阶段研究如何从需求模型转换到架构模型。
- 设计阶段集中研究架构模型描述，包括基本概念和架构描述语言。

**软件架构的重要性**：
- 架构设计能够满足系统的品质，确保系统满足功能和非功能需求。
- 使不同利益相关方达成一致的目标，支持计划编制过程，指导系统开发，有效管理复杂性，为复用奠定基础，降低维护费用，支持冲突分析。

**基于架构的软件开发方法 ABSD**：
- ABSD 方法是由体系结构驱动的，包括功能分解、体系结构风格实现质量和商业需求、软件模板的使用。
- ABSD 模型包括体系结构需求、设计、文档化、复审、实现和演化 6 个子过程。

**软件架构风格**：
- 描述了特定应用领域中系统组织方式的惯用模式，如数据流体系结构风格、调用/返回体系结构风格、面向对象体系结构风格等。
- 每种风格有其特定的构件、连接件和组合规则。

**软件架构复用**：
- 包括软件产品线和软件架构复用的基本过程。
- 软件产品线围绕核心资产库进行管理、复用、集成新的系统。
- 复用的基本过程包括构造/获取可复用的软件资产、管理这些资产、使用可复用资产。

**特定领域软件体系结构 DSSA**：
- DSSA 的主要目的是在一组相关的应用中共享软件体系结构。
- 包括领域开发环境、领域特定应用开发环境和应用执行环境三个层次。
- DSSA 基本活动包括分析、设计、实现，参与人员包括领域专家、领域分析人员、领域设计人员和领域实现人员。

**系统质量属性与架构评估**：
- 软件系统质量属性分为开发期质量属性和运行期质量属性。
- 开发期质量属性包括易理解性、可扩展性、可重用性等；运行期质量属性包括性能、安全性、可伸缩性等。
- 评估方法包括基于调查问卷或检查表、基于场景的评估、基于度量的评估。
- 具体方法包括 SAAM 方法、ATAM 方法、CBAM 方法等。

## 2 ※定义

**信息系统架构的定义**：
- 信息系统架构是关于软件系统的结构、行为和属性的高级抽象。
- 在描述阶段，架构的对象是直接构成系统的抽象组件以及各个组件之间的连接规则，特别是相对细致地描述组件之间的通信。
- 在实现阶段，这些抽象组件被细化为实际的组件，比如具体类或者对象。

**软件系统架构的作用**：
- 软件系统架构不仅指定了软件系统的组织结构和拓扑结构，还表示了系统需求和构成组件之间的对应关系，包括设计决策的基本方法和基本原理。
- 软件工程师能够通过软件体系结构：
		1. 分析设计在满足所规定的需求方面的有效性；
		2. 在设计变更相对容易的阶段，考虑体系结构可能的选择方案；
		3. 降低与软件构造相关联的风险。

**软件体系结构的设计层次**：软件体系结构的设计通常考虑到设计金字塔中的两个层次：数据设计和体系结构设计。
- 数据设计体现传统系统中体系结构的数据构件和面向对象系统中类的定义（封装了属性和操作）。
- 体系结构设计则主要关注软件构件的结构、属性和交互作用。

**软件架构的模型**：根据建模的侧重点不同，可以将软件架构的模型分为五种，分别是结构模型、框架模型、动态模型、过程模型和功能模型。

Kruchten 在 1995 年提出了一个"4+1"的视图模型，从五个不同的视角来描述软件架构，每个视图只关心系统的一个侧面，5 个视图结合在一起才能反映软件架构的全部内容。

- 开发视图 编程人员：软件管理
- 逻辑视图 最终用户：功能需求
- 物理视图 系统集成人员：性能、拓扑、安装、通信等
- 进程视图 系统工程人员：系统可扩充性、吞吐量等
- 场景

## 3 ※软件架构设计与生命周期

**需求分析阶段**：
- 这一阶段研究如何从需求模型（如用例图）转换到架构模型（如类图），保证模型转换的可追踪性。
- 有助于将架构概念贯穿整个生命周期，有利于各阶段参与者交流和维护可追踪性。

**设计阶段**：
- 这是架构研究最为集中的阶段。架构模型描述包括基本概念（构件、连接器）、架构描述语言（ADL）以及多视图表示方法。
- 多视图有利于从不同角度描述架构，常见的有 4+1 视图模型、Hofmeister 模型等。

**实现阶段**：
- 从架构设计到具体实现存在鸿沟，此阶段研究如何缩小二者差距。
- 方法包括在架构模型中引入编程概念、模型转换技术、基于中间件平台的构件组装等。
- 另外还研究基于架构的测试、配置管理等技术。

**构件组装阶段**：
- 根据架构模型中的连接器进行构件组装实现系统。
- 研究如何支持连接器实现以及检测和消除架构失配（构件与实际环境假设不符）问题。

**部署阶段**：
- 研究如何基于架构模型描述软硬件部署模型，并分析部署方案的质量属性。

**后开发阶段**：
- 包括动态软件架构（运行时体系结构可变）研究和从遗留系统中恢复/重建架构的方法研究。

## 4 重要性

**满足系统品质**：架构设计能够确保系统满足功能和非功能需求（如性能、安全性、可维护性等）。

**使受益人达成一致的目标**：架构设计使不同利益相关方（如业务、开发、测试、运维等）达成一致的目标。架构文档有助于各方充分沟通和达成共识。

**支持计划编制过程**：架构设计支持项目计划、管理、成本评估、风险分析等活动。架构决策直接影响这些方面。

**对系统开发的指导性**：架构设计指导系统的设计和实现工作，提供可靠的技术框架。架构师需制定相应的标准和指导方针。

**有效地管理复杂性**：架构设计通过分解和抽象，有效管理系统的复杂性。

**为复用奠定基础**：架构设计为组件和资源的复用奠定基础，降低开发成本，提高质量。

**降低维护费用**：架构设计考虑可维护性、可扩展性等，降低系统的长期维护成本。

**支持冲突分析**：架构设计可分析需求或设计变化的影响，支持决策。

## 5 基于架构的软件开发方法 ABSD

**基本概念**：
- ABSD（Architecture-Based Software Design）方法是由==体系结构驱动的==，即==由构成体系结构的商业、质量和功能需求的组合驱动的==。
- ABSD 方法有 3 个基础：
		1. ==功能的分解==：使用基于模块的内聚和耦合技术。
		2. ==通过选择体系结构风格来实现质量和商业需求==。
		3. ==软件模板的使用==：利用一些软件系统的结构。
- ABSD 方法是==递归的==，且迭代的每一个步骤都是清晰定义的，有助于降低体系结构设计的随意性。
- ABSD 方法是一个自顶向下，递归细化的方法，软件系统的体系结构通过该方法得到细化，直到能产生软件构件和类。在最顶层，系统被分解为==若干概念子系统==和一个或==若干个软件模板==。在第 2 层，概念子系统又被分解成==概念构件==和一个或==若干个附加软件模板==。

**视图视角**：
- 考虑体系结构时，要从不同的视角来观察对架构的描述，展示功能组织的==静态视角能判断质量特性==，展示==并发行为的动态视角能判断系统行为特性==。
- 选择特定的视角或视图（==如逻辑视图、进程视图、实现视图和配置视图==）可以全方位的考虑体系结构设计。

**用例和质量场景**：
- 用例用来捕获==功能需求==。
- 质量场景用来捕获质量需求，==包括预期的和非预期的场景。==例如，一个预期的性能场景是估计每年用户数量增加 10%的影响，一个非预期的场景是估计每年用户数量增加 100%的影响。==非预期场景在决定设计的边界条件时很有用。==

**基于体系结构的开发模型 ABSD**：
- ABSD 模型把整个基于体系结构的软件过程划分为==体系结构需求、设计、文档化、复审、实现和演化==6 个子过程。

**体系结构需求**：
- 需求是指用户对目标软件系统在功能、行为、性能、设计约束等方面的期望。
- 体系结构需求一般来自 3 个方面，==分别是系统的质量目标、系统的商业目标和系统开发人员的商业目标==。
- 需求过程主要是获取用户需求，标识系统中所要用到的构件。

**体系结构设计**：
- 体系结构需求用来激发和调整设计决策，不同的视图被用来表达与质量目标有关的信息。
- 体系结构设计是一个==迭代过程==。

**体系结构文档化**：
- 文档是在系统演化的每一个阶段，==系统设计与开发人员的通信媒介==，是为验证体系结构设计和提炼或修改这些设计（必要时）所执行预先分析的基础。
- 主要输出结果是两个文档：==体系结构规格说明和测试体系结构需求的质量设计说明书==。
- 文档的==完整性和质量==是软件体系结构成功的关键因素。==文档要从使用者的角度进行编写，必须分发给所有与系统有关的开发人员，且必须保证开发者手上的文档是最新的。==

**体系结构复审**：
- 在一个主版本的软件体系结构分析之后，要安排一次由==外部人员（用户代表和领域专家）参加的复审。==
- 复审的目的是==标识潜在的风险，及早发现体系结构设计中的缺陷和错误。==

**体系结构实现**：
- 体系结构的实现过程包括分析与设计、构件实现、构件库、构件组装和系统测试。
- 测试包括单个构件的功能性测试和被组装的应用的整体功能和性能测试。
- ==复审后的文档化的体系结构说明书为基础==
- 在体系结构说明书中，已经定义系统中的==构件与构件之间的关系==。
- 按照设计提供的结构，==通过组装支持工具把这些构件的实现体组装起来==，完成整个软件系统的连接与合成。
- ==测试==包括单个构件的功能性测试和被组装的应用的==整体功能和性能测试==。

**体系结构的演化**：
- 体系结构的演化包括==需求变化归类、制订体系结构演化计划、修改、增加或删除构件、更新构件的相互作用、构件组装与测试和技术评审==。
- ==体系结构演化是使用系统演化步骤去修改应用，以满足新的需求==。

## 6 ※软件架构风格

**软件体系结构风格的定义**：
- 软件体系结构风格是描述==某一特定应用领域中系统组织方式的惯用模式==。
- 体系结构风格定义一个系统家族，即一个体系结构定义==一个词汇表和一组约束==。词汇表中包含一些==构件和连接件==类型，而这组约束指出系统是如何将这些构件和连接件组合起来的。
- 体系结构风格反映了领域中众多系统所共有的==结构和语义特性==，并指导如何将各个模块和子系统有效地组织成一个完整的系统。

**数据流体系结构风格**：数据流体系结构==设有概念上的程序计数器==：指令的可执行性和执行仅基于指令输入参数的可用性来确定，因此，指令执行的顺序是不可预测的，即行为是不确定的。
- **批处理体系结构风格**：每个处理步骤是一个单独的程序，每一步必须在前一步结束后才能开始，并且数据必须是完整的，==以整体方式传递==。它的基本构件是==独立的应用程序==，==连接件是某种类型的煤介==。
- 经典数据处理、程序开发、Windows 下的 BAT 程序
- **管道-过滤器体系结构风格**：把系统分解为几个处理步骤，这些步骤之间通过数据流连接，==一个步骤的输出是另一个步骤的输入==。每个处理步骤由一个过滤器实现，处理步骤之间的数据传输由管道负责。每个处理步骤（过滤器）都有一组输入和输出，过滤器从管道中渎取输入的数据流，经过内部处理，然后产生输出数据流并写入管道中。==基本构件是过滤器，连接件是数据流传输管道。管道过滤风格支持并行。==
- UNIX shell 编写的程序。传统的编译器一个阶段(包括词法分析、语法分析、语义分析和代码生成)的输出是另一个阶段的输入

**调用/返回体系结构风格**：调用/返回风格是指在系统中采用了调用与返回机制。==是一种分治策路==，将一个复杂的大系统==分解为若干子系统==，以便降低复杂度，并且增加可修改性。
- **主程序/子程序风格**：主程序/子程序风格一般采用单线程控制，把间题划分为若干处理步骤，构件即为主程序和子程序。子程序通常可合成为模块。过程调用作为交豆机制，即充当连接件。调用关系具有层次性，==其语义逻辑表现为子程序的正确性取决于它调用的子程序的正确性。==
- **面向对象体系结构风格**：面向对象系统风格貔立在数据抽象和面向对象的基础上，数据的表示方法和它们的相应操作封装在==一个抽象数据类型或对象中==。这种风格的==构件是对象==。
- **层次型体系结构风格**：层次系统组成一个层次结构，每一层为上层提供服务，并作为下层的客户。==这样的系统中构件在层上实现了虚拟机==。连接件由通过层间交豆协议来定义，拓扑约束包括对相邻层间交豆的约束。==每一层最多只影响两层==，同时只要给相邻层提供相同的接口，==允许每层用不同的方法实现==，为软件重用提供了强大的支持。
- **客户端/服务器体系结构风格**：客户端/服务器体系结构风格是==基于资源不对等，且为实现共享而提出的==。两层 C/S 体系结构有 3 个主要组成部分：数据库服务器、客户应用程序和网络。==三层 C/S 结构增加了一个应用服务器==。整个应用逻辑驻留在应用服务器上。应用功能分为表示层、功能层和数据层三层。

**以数据为中心的体系机构风格**：系统设计围绕核心数据结构，如数据库管理系统，强调数据的存储、访问和管理。
- **仓库体系结构风格**：==仓库是存储和维护数据的中心场所==。两种不同的构件：==中央数据结构==说明当前数据的状态以及一组对中央数据进行操作的==独立构件==，仓库与独立构件间的相互作用在系统中会有大的变化。==连接件即为仓库与独立构件之间的交互。==
- 数据库系统，现代编译器
- **黑板体系结构风格**：黑板系统是一种问题求解模型。它将问题的解空间组织成一个或多个应用相关的==分级结构==。分级结构的每一层信息由一个唯一的词汇来描述，它代表了问题的部分解。
- ==信号处理领域==，如语音识别和模式识别。另一应用是==松耦合代理数据共享存取==。

**虚拟机体系就够风格**：虚拟机体系结构风格的基本思想是人为构建一个运行环境，在这个环境之上，可以解析与运行自定义的一些语言，这样来增加架构的灵活性。
- **解释器体系结构风格**：一个解释器包括 1.完成解释工作的==解释引擎==2.一个包含将被解释的代码的==存储区==3.一个记录解释引擎==当前工作状态==的数据结构 4.一个==记录源代码被解释==执行进度的数据结构。==解释器缺点是执行效率较低==。
- 专家系统/在线游戏系统，该系统的设计目标之一是支持用户自行定义游戏对象的属性、行为和对象之间的交互关系。==业务灵活组合那就是选择解释器风格。==
- **规则系统体系结构风格**：基于规则的系统包括规则集、规则解释器、规则/数据选择器及工作内存。
- 决策支持系统，是指采用计算机技术和决策理论建立的、能够为决策者提供决策信息和决策方法的信息系统。

**独立构建体系结构风格**：独立构件风格主要强调系统中的每个构件都是==相对独立的个体，它们之间不直接通信==，以降低耦合度，提升灵活性。
- **进程通信体系结构风格**：在进程通信结构体系结构风格中，==构件是独立的过程，连接件是消息传递==。这种风格的特点是构件通常是命名过程，消息传递的方式可以是==点到点、异步或同步方式及远程过程调用==等。
- 在微服务架构中，各个微服务可以看作是独立的过程，通过消息传递进行交互。
- **事件系统体系结构风格**：基于事件的隐式调用风格的思想是构件不直接调用一个过程，==而是触发或广播一个或多个事件==。系统中的其他构件中的过程在一个或多个事件中注册，==当一个事件被触发，系统自动调用在这个事件中注册的所有过程==。
- 在编程环境中用于集成各种工具，在数据库管理系统中确保数据的一致性约束，在用户界面系统中管理数据，以及在编辑器中支持语法检查。

**C2**: C2 体系结构风格可以概括为通过连接件绑定在起按照一组规则运作的并行构件网络。
- 构件和连接件都有==顶部和底部==。
- 构件的顶部连接到连接件的底部，构件的底部连接到连接件的顶部，==构件之间不允许直接连接==。
- ==连接件可以连接任意数量的构件和其他连接件==。
- 当两个连接件直接相连时，==必须一个的底部连接到另一个的顶部==。

**闭环控制架构-过程控制**：软件与硬件之间可以粗略地表示为一个反馈循环，这个反馈循环通过接受一定的输入，确定一系列的输出，==最终使环境达到一个新的状态==。
- 空调控温、定速巡航

**批处理和管道过滤器的区别**：
- 批处理前后构件不一定有关联，并且是作为整体传递，即必须前一个行完才能执行下一个。
- 管道-过滤器是前一个输出作为后一个输入，前面执行到部分可以开始下一个的执行。

## 7 ※软件架构复用的基本过程

**软件产品线**：

**定义**：
- 软件产品线是一组软件密集型系统，==它们共享一个公共的、可管理的特性集==，以满足某个特定市场或任务的具体需要，是以规定的方式用==公共的核心资产集成==开发出来的。
- 围绕核心资产库进行==管理、复用、集成==新的系统。

**核心资产库**：
- 包括==软件架构及其可剪裁的元素==。
- 还包括==设计方案及其文档、用户手册、项目管理的历史记录（如预算和进度）、软件测试计划和测试用例==。

**软件复用**：
- 系统化的软件开发过程，开发==一组基本的软件构造模块==，以覆盖不同的需求/体系结构之间的相似性，从而提高系统开发的效率、质量和性能。
- 软件架构复用的类型包括==机会复用和系统复用==。机会复用是指==开发过程中，只要发现有可复用的资产==，就对其进行复用。系统复用是指在开发之前，==就要进行规划，以决定哪些需要复用==。

**软件架构复用的基本过程**：
- **构造/获取可复用的软件资产**：获取或构造可靠的、可被广泛使用的、易于理解和修改的软件资产。
- **管理可复用资产**：
		- 构件库是支持软件复用的必要设施，提供构件的存储、管理、检索以及库的浏览与维护等功能。
		- 主要包含构件分类和构件检索：
				- **构件分类**：将数量众多的构件按照某种特定方式组织起来。
				- **构件检索**：给定几个查询需求，能够快速准确地找到相关构件。
- **使用可复用资产**：
		- 获取可复用资产，并定制这些可复用资产修改、扩展、配置等。
		- 最后将它们组装与集成，形成最终系统。

## 8 ※特定领域软件体系结构 DSSA

特定领域软件体系结构的主要目的是在==一组相关的应用中共享软件体系结构==。从功能覆盖的范围的角度有两种理解 DSSA 中领域的含义的方式。

1. **垂直域**：定义了一个特定的系统族，包含整个系统族内的多个系统，结果是在该领域中可作为系统的可行解决方案的==一个通用软件体系结构。只能应用于一个成熟的、稳定的领域==。
2. **水平域**：定义了==在多个系统和多个系统族中功能区城的共有部分==。在子系统级上涵盖多个系统族的特定部分功能。

DSSA 通常是一个具有三个层次的系统模型，==包括领域开发环境、领域特定应用开发环境和应用执行环境==。领域架构师在领域开发环境工作，应用工程师在领域特定的应用开发环境工作，操作员在应用执行环境工作。

**DSSA 基本活动**：
- **领域分析**：==目标是获得领域模型==，描述领域中系统的共同需求。需要准备工作:定义领域边界、识别信息源分析领域系统需求，确定共享需求，建立领域模型如有大量系统，可选择子集作为样本系统，分析其需求变化范围。
- **领域设计**：==目标是获得 DSSA==（Domain-Specific SoftwareArchitecture）DSSA 描述了领域模型中==需求的解决方案==，能适应多个系统需求根据具有变化性的领域模型，DSSA 也具有变化性解决方案通过获得 DSSA,形成了重用基础设施的规约。
- **领域实现**：==目标是开发和组织可重用信息==，来实现 DSSA 可重用信息可从现有系统提取，也可新开发依据领域模型和 DSSA 组织这些可重用信息领域模型和 DSSA 定义了可重用信息的重用时机可看作是重用基础设施的实现阶段。

**DSSA 的参与人员**：
- **领域专家**：==包括该领域系统的资深用户、从事需求分析、设计、买现及项目管理的软件工程师==。主要任务：提供领域系统需求和实现知识、组建领域词典、选择样本系统、审阅领域工程产品。需熟悉该领域软件设计实现、硬件限制、未来用户需求及技术发展趋势。
- **领域分析人员**：==由具备知识工程背景的资深系统分析员担任==。主要任务：控制领域分析过程、获取知识并组织到领域模型、验证和维护领域模型需掌握软件重用和领域分析方法、知识获取表示技术工具、具备一定领域经验、抽象关联能力强、良好交流合作能力。
- **领域设计人员**：==由资深软件设计人员担任==。主要任务：控制软件设计过程、根据领域模型开发 DSSA 验证 DSSA、建立领域模型与 DSSA 联系需掌握软件重用领域设计方法、软件设计方法、具备一定领域经验。
- **领域实现人员**：==由资深程序设计人员担任==。主要任务：根据领域模型 DSSA 开发或再工程获取可重用构件、验证构件、建立 DSSA 与构件联系需掌握软件重用、领域实现、软件再工程技术、程序设计技能，具备一定领域经验。

**DSSA 建立过程 5 个阶段**：
- **定义领域范围**：==重点确定感兴趣领域的范围及过程终止时间==，主要输出是领域应用需要满足的一系列用户需求
- **定义领域特定的元素**：==目标是编制领域词典和术语同义词词典==，在前一阶段的高层模型基础上，增加更多细节，识别应用间的共性和差性
- **定义领域特定的设计和实现需求约束**：==目标是猫述解空间中的差异特性==，需识别约束，记录约束对设计实现决策的影响，讨论处理这些问题的方法
- **定义领域模型和体系结构**：==目标是产生一般体系结构模型==，说明构成体系结构的模块或构件的语法和语义
- **产生、搜集可重用的产品单元**：==目标是为领域特定软件架构增加可重用构件==，使之可用于在该领域产生新应用

## 9 ※系统质量属性与架构评估

**软件系统质量属性**：
- 软件系统质量属性是可测量或可测试的属性，用来描述系统满足利益相关者需求的程度。
- **分类**：
		- **开发期质量属性**：易理解性、可扩展性、可重用性、可测试性、可维护性、可移植性。
		- **运行期质量属性**：性能、安全性、可伸缩性、互操作性、可靠性、可用性、鲁棒性。

**架构评估的质量属性**：
- **性能**：系统的响应能力，处理事务所需时间或单位时间内处理事务数量。
- **可靠性**：软件在应用错误、意外错误使用情况下维持功能特性的基本能力。
- **可用性**：系统正常运行的时间比例，表现为两次故障间时长或故障时恢复正常速度。
- **安全性**：向合法用户提供服务同时阻止非授权访问或拒绝服务的能力。
- **可修改性**：快速、高性价比地变更系统的能力。
- **功能性**：系统完成所期望工作的能力。
- **可变性**：架构经扩充或变更成为新架构的能力。
- **互操作性**：软件与其他系统或环境交互的能力。

**质量属性场景描述**
- **目的**：==精确描述软件系统的质量属性==。
- **概念**：质量属性场景是==对利益相关者与系统交互的简短陈述==，描述了一个==具体的质量属性需求==。
- **组成部分**：
		- **刺激源**：触发质量属性场景的实体。
		- **刺激**：刺激源对系统做出的动作。
		- **环境**：系统所处的状态或条件。
		- **制品**：系统内部或外部的实体。
		- **响应**：系统对刺激做出的反应。
		- **响应度量**：对系统响应的度量标准。
- **质量属性场景类型**：可用性、可修改性、性能、可测试性、易用性、安全性。

### 9.1 描述实例

**可用性场景描述**：
- **刺激源**：系统内部、系统外部
- **刺激**：疏忽、错误、崩溃、时间
- **环境**：正常操作、降级模式
- **制品**：系统处理器、通信信道、持久存储器、进程
- **响应**：系统应该检测事件，并进行如下一个或多个活动：将其记录下来，通知适当的各方，包括用户和其他系统，根据已定义的规则禁止导致错误或故障的事件源，在一段预先指定的时间间隔内不可用，其中，时间间隔取决于系统的关键程度，在正常或降级模式下运行
- **响应度量**：1.系统必须可用的时间间隔；2.可用时间；3.系统可以在降级模式下运行的时间间隔；4.故障修复时间

**可修改性质量属性场景描述**：
- **刺激源**：最终用户、系统管理员、软件开发人员
- **刺激**：希望增加、删除、修改、改变功能、质量属性、容量等
- **环境**：系统设计时、编译时、构建时、运行时
- **制品**：系统用户界面、平台、环境或与目标系统交互的系统
- **响应**：查找架构中需要修改的位置，进行修改且不会影响其他功能，对所做的修改进行测试，部署所做的修改
- **响应度量**：根据所影响元素的数量度量的成本、努力、资金；该修改对其他功能或质量属性所造成影响的程度。

**性能质量属性场景描述**：
- **刺激源**：用户请求，其他系统触发等
- **刺激**：定期事件到达、随机事件到达、偶然事件到达
- **环境**：正常模式、超载(Over load)模式
- **制品**：系统
- **响应**：处理刺激、改变服务级别
- **响应度量**：等待时间、期限、吞吐量、抖动、缺失率、数据丢失率

**可测试性质量属性场景描述**：
- **刺激源**：开发人员、增量开发人员、系统验证人员、客户验收测试人员、系统用户
- **刺激**：已完成的分析、架构、设计、类和子系统集成；所交付的系统
- **环境**：设计时、开发时、编译时、部署时
- **制品**：设计、代码段、完整的应用
- **响应**：提供对状态值的访问，提供所计算的值，准备测试环境
- **响应度量**：已执行的可执行语句的百分比，如果存在缺陷出现故障的概率，执行测试的时间，测试中最长依赖的长度，准备测试环境的时间

**易用性质量属性场景描述**：
- **刺激源**：最终用户
- **刺激**：想要学习系统特性、有效使用系统、使错误的影响最低、适配系统、对系统满意
- **环境**：系统运行时或配置时
- **制品**：系统
- **响应**：
	- 学习系统特性：系统与环境联系紧密，界面用户熟悉，在陌生环境中界面可用
	- 有效使用系统：包括数据/命令聚合、重用，支持界面有效导航，具有一致操作的不同视图，全面搜索，多个同时活动
	- 使错误影响最低：有撤销、取消、从故障恢复、识别纠正用户错误、检索密码、验证系统资源。
	- 适配系统：具备定制能力和国际化。
	- 使客户对系统满意：显示系统状态，与客户节奏合拍。
- **响应度量**：任务时间、错误数量、解决问题的数量、用户满意度、用户知识的获得、成功操作在总操作中所占的比例、损失的时间/丢失的数据量

**安全性质量属性场景描述**：
- **刺激源**：正确识别、非正确识别身份未知的来自内部/外部的个人或系统；经过了授权/未授权它访问了有限的资源/大量资源
- **刺激**：试图显示数据，改变/删除数据，访问系统服务，降低系统服务的可用性
- **环境**：在线或离线、联网或断网、连接有防火墙或者直接连到了网络
- **制品**：系统服务、系统中的数据
- **响应**：对用户身份进行认证；隐藏用户的身份；阻止对数据或服务的访问；允许访问数据或服务；授予或收回对访问数据或服务的许可；根据身份记录访问、修改或试图访问、修改数据、服务；以一种不可读的格式存储数据；识别无法解释的对服务的高需求；通知用户或另外个系统，并限制服务的可用性
- **响应度量**：用成功的概率表示，避开安全防范措施所需要的时间、努力、资源；检测到攻击的可能性；确定攻击或访问、修改数据或服务的个人的可能性；在拒绝服务攻击的情况下仍然获得服务的百分比；恢复数据、服务；被破坏的数据、服务和（或）被拒绝的合法访问的范围

### 9.2 系统架构评估

- **敏感点**：一个或多个构件（或构件之间的关系）的特性。
- **权衡点**：影响多个质量属性的特性，是多个敏感点的集合。
- **风险承担者或利益相关者**：系统架构涉及到许多利益相关者的利益，需要平衡考虑他们的需求。
- **场景**：从风险承担者的角度对与系统的交互的简短描述。

**评估方法**：  
**基于调查问卷或检查表**：
- 通过设计问卷或检查表，利用相关人员的经验和知识进行评估。
- 优点：能够充分利用评估人员的经验和知识。
- 缺点：在很大程度上依赖于评估人员的主观推断。

**基于场景的评估**：
- 分析软件架构对场景的支持程度，判断架构对质量需求的满足程度。
- 优点：能够系统地评估架构对特定场景的支持。
- 缺点：需要详细定义和分析场景，可能耗时。

**基于度量的评估**：
- 建立质量属性和度量之间的映射原则，从架构文档中获取信息，分析推导出系统的质量属性。
- 优点：客观性强，可以量化评估结果。
- 缺点：需要精确的度量方法和映射原则，可能需要专业知识。

**基于场景的架构分析方法 (SAAM 方法)**

- **目标**：通过场景验证架构假设和原则，评估架构固有风险，比较不同架构方案。
- **作用**：包括验证架构假设和原则，评估架构风险，检查潜在问题，比较不同架构。==主要输入是问题描述、需求声明和架构描述。==
- **评估过程**：场景开发、架构描述、单场景评估、场景交互评估、总体评估。

**架构权衡分析方法 (ATAM 方法)**

ATAM 在 SAAM 的基础上发展起来的，==主要针对性能、实用性、安全性和可修改性==，在系统开发之前，对这些质量属性进行评价和折中。

ATAM 活动过程。ATAM 包括 4 个主要阶段：==场景和需求收集、架构视图和场景实现、属性模型构造和分析、权衡==。整个过程是迭代式的。

![../../../../00-系统文件/文档附件/04-知识仓库/知识单元/05-学习笔记/系统架构设计师学习笔记/17-※系统架构设计-附件/IMG-C3871664C3762D639925E4269672DB36.png](/img/user/00-%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6/%E6%96%87%E6%A1%A3%E9%99%84%E4%BB%B6/04-%E7%9F%A5%E8%AF%86%E4%BB%93%E5%BA%93/%E7%9F%A5%E8%AF%86%E5%8D%95%E5%85%83/05-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/17-%E2%80%BB%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1-%E9%99%84%E4%BB%B6/IMG-C3871664C3762D639925E4269672DB36.png)

**ATAM 方法采用效用树（Utility tree）**

ATAM 方法采用效用树(Utility tree)这一工具来对质量属性进行分类和优先级排序。效用树的结构包括：==树根一质量属性一属性分类一质量属性场景（叶子节点)==。需要注意的是，ATAM 主要关注 4 类质量属性：性能、安全性、可修改性和可用性，这是因为这 4 个质量属性是利益相关者最为关心的。得到初始的效用树后，==需要修剪这棵树，保留重要场景（通常不超过 50 个），再对场景按重要性给定优先级（用 H/M/L 的形式）==，再按场景实现的难易度来确定优先级（用 H/M/L 的形式），这样对所选定的每个场景就有一个优先级对（重要度、难易度），如（H、L）表示该场景重要且易实现

**CBAM 方法**

**核心思想**：架构策略会影响系统的质量属性，质量属性的变化会为系统的相关方带来一定收益（效用）。

**步骤**：1.整理优先级最高的场景、2.对场景确定不同质量属性响应级别、3.确定场景优先级权重、4.分配不同响应级别的效用值、5.建立"策略-场景-响应级别"对应关系、6.内插计算每个策略对应场景的效用、7.计算每个策略的总收益得分、8.根据成本计算 ROI，选择最优策略。

- **SAEM 方法**：将软件架构视为最终产品和设计过程中的中间产品，从外部和内部质量属性两个角度进行评估。
- **SAABNet 方法**：使用贝叶斯信念网络（BBN）来表达和使用定性知识，辅助架构的定性评估。
- **SACMM 方法**：专注于软件架构在修改过程中的变化，计算两个软件架构之间的距离，描述架构在修改过程中的转换模型。
- **SASAM 方法**：通过映射和比较预期架构和实际架构来静态地评估软件架构。
- **ALRRA 方法**：使用动态复杂度和耦合度准则定义组件和连接件的复杂性因素，结合失效模式和影响分析（FMEA）来评估软件架构的可靠性风险。
- **AHP 方法**：层次分析法（AHP），通过划分问题层次、构造比较判断矩阵、计算合成权重等步骤，帮助解决软件架构评估中的冲突问题，并对设计方案进行整体排名。
- **COSMIC+UML 方法**：基于面向对象系统源代码的可维护性度量准则的方法，通过将面向对象的度量准则与 COSMIC 方法相关联，并提出 UML 组件图的度量准则，来评估软件架构的可维护性。

**ATAM 方法的架构评估实践**

**阶段**：演示、调查和分析、测试和报告。

![../../../../00-系统文件/文档附件/04-知识仓库/知识单元/05-学习笔记/系统架构设计师学习笔记/17-※系统架构设计-附件/IMG-20A179678C4EF018890ECEE007E81B8D.png](/img/user/00-%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6/%E6%96%87%E6%A1%A3%E9%99%84%E4%BB%B6/04-%E7%9F%A5%E8%AF%86%E4%BB%93%E5%BA%93/%E7%9F%A5%E8%AF%86%E5%8D%95%E5%85%83/05-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/17-%E2%80%BB%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1-%E9%99%84%E4%BB%B6/IMG-20A179678C4EF018890ECEE007E81B8D.png)

**过程**：
- *演示阶段*，评估团队介绍 ATAM 过程、业务目标和要评估的体系结构。
- *调查和分析阶段*，深入探讨架构方法、生成质量属性效用树，并分析架构方法。
- *测试阶段*，通过头脑风暴和优先场景来理解质量属性要求，并对架构方法进行分析。
- *报告阶段*，ATAM 团队将评估结果、效用树、场景、分析问题、风险和非风险以及架构方法的发现呈现给利益相关者。这些步骤帮助评估团队识别架构中的风险、非风险、敏感点和权衡点，从而为架构的改进提供指导。
