---
{"title":"02-Vim 的第一步","note_type":"knowledge_base","description":"如何使用 neovim 打开文件，并进行编辑","tags":["开发工具","neovim"],"create_time":"2024-08-13","update_time":"2025-02-19","dg-home":false,"dg-publish":true,"aliase":null,"root":"neovim 使用说明","permalink":"/04-知识仓库/知识单元/03-通用技术/neovim 使用说明/02-Vim 的第一步/","dgPassFrontmatter":true,"noteIcon":"","created":"2024-08-13","updated":"2025-02-19"}
---


所属知识库：[[04-知识仓库/归纳目录/03-通用技术/neovim 使用说明\|neovim 使用说明]]

### 打开文档

**在终端中打开：**

无论是 windows 还是 Linux、macos，只需要在安装完成后在终端输入 `nvim path\to\file`，nvim 就会打开一个文档，这个文档存在则会显示文档内容，如果不存在则会在左下角提示 `New File`。

**在 nvim 中打开：**

在 [[04-知识仓库/知识单元/03-通用技术/neovim 使用说明/01-关于手册\|01-关于手册]] 中执行一个命令 `:exe 'edit' stdpath('config').'/init.vim'`, 通过执行 `edit` 来打开指定目录的文档也是可以的，打开效果和在外部使用 `nvim` 打开一样。

### 插入文本

Vim 编辑器是一个模态编辑器。这意味着编辑器的行为会有所不同，具体取决于您所处的模式。这两种基本模式被称为 Normal 模式和 Insert 模式。在 Normal 模式下，键入的字符是命令。在 Insert 模式下，字符以文本形式插入。

刚打开文本时，nvim 默认是处于正常模式的，所以我们需要输入命令 `i` 来切换到插入模式，可以看到左下角 `-- INSERT --` 提醒当前处于插入模式。

我们可以随心所欲的输入内容在 Insert 模式下，直到我们按下 `esc` 键，这会导致退出当前模式并切换到 Normal 模式，此时左下角的模式提示会消失。

> 如果左下没有模式提示，可以使用:set showmode 来打开模式提醒

### 移动光标

在正常模式下可以通过 `hjkl` 来移动光标，分别为 h 向左，l 向右，j 向下，k 向上。

初学者可能会觉得这几个键有点反人类，但是 vim 的设计思路是尽可能的不在键盘上做大范围移动，这样会降低输入效率，如果使用方向键来移动光标，就需要将手移开编辑区，会大大降低输入效率。（文档里是这么写的，觉得有道理的可以尽可能的适应这四个键来移动光标）

### 删除字符

在 Normal 模式下，需要先将光标移动到待删除的字符上，然后按下 `x` 键即可删除当前字符，即 `x` 命令；如果需要删除整行则需要按下 `d` 两次，即使用 `dd` 命令来删除光标所在行；如果想要删除当前行尾的换行符，则需要使用 `J` 命令，即按下输入大写的 J，可以通过 `shift + j` 来使用该命令，也可切换大小写使用。

在 Insert 模式下，所有的删除操作只能通过 `backspace` 键来实现，即传统编辑的删除操作。

### 撤销和重做

如果删除了太多东西，我们想要恢复刚刚的删除操作该怎么办

在 Normal 模式下，使用 `u` 命令来撤销刚刚的操作，对应的重做操作的指令是 `CTRL-R`。

> 撤销可在任何指令后执行恢复操作，虽然实际情况中可能删除后撤销用的最多，但不要把它限制在删除后。

### 其他编辑命令

**追加命令：** 区别于 `i` 在光标当前字符位置前切换到 Insert 模式，`a` 命令是在光标字符后切换到 Insert 模式。（去试一下就理解了）

**新行插入：** 使用 `o` 命令可以在光标所在行下方插入一个新行，并在行首切换 Insert 模式；使用 `O` 可以在上方插入新行，并在行首切换 Insert 模式。

### 退出程序

使用 `ZZ` 命令可以保存文件并退出 nvim，如果在重新打开撤销等操作将不能再使用，如果不想保存直接退出可以使用 `:q!` 指令直接退出。同样的如果你想放弃当前修改，可以使用 `:e!` 来重载当前文档，并继续编辑。

### 帮助文档

帮助文档可以通过 `:h` 或者 `:help` 打开，也可以使用 `F1` 打开，指令帮助可以通过 `:help command` 来获取对应指令的帮助，例如获取 `x` 命令的帮助可以输入 `:help x`, 查询如何删除文本可以输入 `:help deleting` 等等

如果想要关闭帮助文档可以使用 `ZZ` 来关闭，这并不会关闭 `nvim`。

如果在帮助文档中发现可以跳转的内容，一般会有竖线，不同颜色，单双引号来表示出来，可以使用 [[04-知识仓库/知识单元/03-通用技术/neovim 使用说明/01-关于手册#学会来回跳转\|01-关于手册#学会来回跳转]] 这一节所说的 `CTRL-]` 和 `CTRL-O` 来跳转进行查看，`CTRL-T` 也可跳回到标签位置。

可以查询的内容整理为如下表格

| 查询内容                   | 查询方式          |
| -------------------------- | ----------------- |
| 查询一个主题               | `:help {subject}` |
| 查询一个命令               | `:help x`         |
| 查询 Normal 模式下的快捷键 | `:help CTRL-A`    |
| 查询 Insert 模式下的快捷键 | `:help i_CTRL-A`  |
| 查询启动参数的作用         | `:help -t`        |
| 查询配置文件中选项的功能   | `:help 'number'`  |
| 查询错误信息               | `:help E37`       |
| 查询如何使用帮助           | `:help helphelp`  |

一些特殊的键位需要查询我们需要打出特定名称并用尖括号包裹，例如方向键上 `<UP>`，一些不清楚的主题名称我们可以打一部分名称然后使用 `<Tab>` 来进行补全。

> [!info] 关于单键指令  
> vim 的单键指令和传统编辑的快捷键不太一样，传统编辑器的快捷键是原有功能是通过一些操作才能执行，而通过快捷键可以快速执行这些操作或者映射到该功能上，而 vim 的单键指令或者组合键指令只是指令的触发方式，他就是这样执行这个功能的，后面会有配置快捷的功能，那个才和传统编辑器的快捷键有相似的地方。

> [!info] 关于冒号指令  
> 冒号指令同样也是指令的触发方式的一种，只不过需要输入完整的指令名称
