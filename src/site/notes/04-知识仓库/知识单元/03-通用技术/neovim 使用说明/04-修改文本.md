---
{"title":"04-修改文本","note_type":"knowledge_base","description":"进一步修改文本的快捷键","tags":["开发工具","neovim"],"create_time":"2024-08-13","update_time":"2025-02-19","dg-home":false,"dg-publish":true,"aliase":[],"root":"neovim 使用说明","permalink":"/04-知识仓库/知识单元/03-通用技术/neovim 使用说明/04-修改文本/","dgPassFrontmatter":true,"noteIcon":"","created":"2024-08-13","updated":"2025-02-19"}
---


所属知识库：[[04-知识仓库/归纳目录/03-通用技术/neovim 使用说明\|neovim 使用说明]]

### 删除和修改指令

这里介绍两个之前提到过的操作指令

1. `d` 删除操作指令，之前使用 `dd` 删除一行
2. `c` 修改操作指令，使用 `cc` 表示修改一行，执行后进入 Insert 模式

移动指令可以参考 [[04-知识仓库/知识单元/03-通用技术/neovim 使用说明/03-光标移动\|03-光标移动]] 中说明的移动指令，结合操作指令和移动指令可以完成删除/修改特定文本操作。

这里举几个例子，组合用法不光一下几种：

1. `dw` 从当前光标位置开始删除到下个单词开头；
2. `d4w` 从当前光标位置开始删除到 4 个单词后的单词开头；
3. `de` 从当前光标开始，删除到单词结尾；
4. `d$` 从当前光标开始，删除到行尾
5. `dl` 向右删除一个字符
6. `dj` 删除当前行和下面一行

其中 `w` 使移动到下个单词开头，`e` 是移动到单词尾部，`$` 是移动到当前行尾部

操作指令 `c`，与 `d` 用法基本一致，它会在删除后进入 Insert 模式来插入新的内容，实现修改操作

快捷指令

| 指令 | 等价 | 说明                 |
| ---- | ---- | -------------------- |
| `x`  | `dl` | 删除当前光标字符     |
| `X`  | `dh` | 删除光标前的字符     |
| `D`  | `d$` | 删除光标到行尾的内容 |
| `C`  | `c$` | 修改光标到行尾的内容 |
| `s`  | `cl` | 修改光标字符         |
| `S`  | `cc` | 修改当前行           |

> 命令 `3dw` 和 `d3w` 删除三个单词。挑剔的说，`3dw` 会删除一个单词三次，而命令 `d3w` 会删除三个单词一次。所以实际上可以输入两个数字。例如，`3d2w` 删除两个单词，重复三次，总共六个单词。

### 替换一个字符指令

1. `r<char>` 将光标所在位置替换为指定的 `<char>`
2. `<number>r<char>` 连续替换 n 个字符为指定 `<char>`
3. `r<Enter>` 将光标所在字符替换为换行符
4. `<number>r<Enter>` 连续 n 个字符替换为一个换行符

### 连续更改指令

`.` 指令可以重复上一次的 `d` 和 `c` 操作指令。

例如以下操作，替换文档中的 `four` 为 `five`

1. `/four<Enter>` 找到文档中的 four
2. `cwfive<Esc>` 替换为 five
3. `n` 跳转到下一个
4. `.` 执行刚才的替换操作

### VISUAL 模式

一些简单的修改或删除可以直接用操作指令来进行，但是一些复杂的选择可能并不适合直接用操作指令来做，所以引入了 Visual 模式，它类似于普通编辑器的左键选中文本。

在 Normal 模式下按 `v` 便进入了 Visual 模式，此时再执行移动光标指令，就会发现从进入 Visaul 模式的光标开始有一段选中区域，此时再执行操作命令，便会对整个选中区域进行操作。

如果不想执行任何操作，按下 `<Esc>` 便能退出 Visual 模式

如果想整行处理，可以按下 `V` 此时在执行移动光标指令便会将一整行都选中

有些特殊情况需要在 Visual 模式下讲光标移动到另一段，`o` 便可以将光标在行的两段来回移动

> [!info] 注  
> 在 Normal 模式下 `o` 的指令和 Visual 模式下的指令使完全不同的，Normal 模式下使创建一个新行并进入插入模式。

### 粘贴

因为 `d` 和 `c` 这两操作指令而被删除的文本，实际上类似于剪贴功能而非单纯的删除，在指定位置通过 `p` 指令可以将删除的文本粘贴到当前位置

### 复制

如果不想删除，那么可以通过 `y` 指令对选中区域，或者使用开头所说的操作指令 + 移动指令来进行选择，例如选择两个单词 `y2w`，同样的使用 `yy` 可以复制一整行。`Y` 则是复制当前光标到行尾的部分。

### 系统剪切板

1. `"*y` 在复制指令前添加 `"*` 来将内容复制到系统剪贴板中
2. `"*p` 在粘贴指令前添加 `"*` 来将系统剪贴板中的内容粘贴到指定位置

### 文本对象

在使用 `dw` 指令时，如果光标位于单词中间，他只会删除光标到下个单词前的内容，这个我们想要删除一个单词的想法不一致，所以这里可以使用 `daw` 指令来删除一个单词，无论这个光标在这个单词的那个位置。同样的我想要删除一个句子，可以使用 `das` 来删除当前光标所在句子。

可以把 `aw` 理解为 a word，`as` 理解为 a sentences。这个可以选中一个文本对象来执行操作指令。但是只能适用于英文文本，中文文本无法正确识别句子和词语。

在删除的时候我们可以注意到，`daw` 会把单词后面的空格也给删除了，如果不想删除单词后的空格，可以使用 `diw` 来删除，它只会删除单词而保留空格，同样 `dis` 也会保留空格。

`iw` 和 `is` 中的那个 i 可以理解为 Inner。

同理 `caw`、`ciw`、`cas`、`cis` 也使对对应的文本对象进行修改操作。

但是由于修改一个单词这个操作太过常见，所以可以使用 `R` 来快速执行 `caw` 操作。
