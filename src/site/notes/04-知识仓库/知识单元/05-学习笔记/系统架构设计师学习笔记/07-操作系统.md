---
{"title":"07-操作系统","note_type":"knowledge_base","description":"选择 进程管理、内存管理、文件管理","tags":["软考","系统架构设计师"],"create_time":"2024-08-26","update_time":"2025-02-19","dg-home":false,"dg-publish":true,"aliase":null,"knowledge_type":"学习笔记","root":"系统架构设计师学习笔记","permalink":"/04-知识仓库/知识单元/05-学习笔记/系统架构设计师学习笔记/07-操作系统/","dgPassFrontmatter":true,"noteIcon":"","created":"2024-08-26","updated":"2025-02-19"}
---


所属知识库：[[04-知识仓库/归纳目录/05-学习笔记/系统架构设计师学习笔记\|系统架构设计师学习笔记]]

## 1 概述

**进程管理**：
- 进程是计算机系统中正在运行的程序实例，是操作系统进行资源分配和调度的基本单位。
- 进程模型包括三态模型（运行态、就绪态、等待态）和五态模型。
- PV 操作是实现进程同步与互斥的有效方法，由 P（wait）操作和 V（signal）操作组成。
- 死锁是多个进程因竞争资源而陷入无限期等待的状态，产生死锁的四个必要条件包括互斥条件、不剥夺条件、请求与保持条件和环路条件。

**内存管理**：
- 内存管理的基本原理是将内存资源划分为多个逻辑空间，并在逻辑空间和物理内存之间建立映射关系。
- 页式管理将主存空间和程序逻辑地址划分为固定大小的页面，使用页表进行虚拟地址到物理地址的转换。
- 段式管理把程序逻辑地址空间按段划分，每段是一个独立的逻辑实体，各段之间不要求连续。
- 虚拟内存使得程序运行前不必全装入内存，可根据需要调入内存，常见的页面淘汰算法包括随机、轮转、先进先出（FIFO）、最近最久未使用（LRU）等。

**文件系统**：
- 文件索引分为直接索引和间接索引，直接索引适用于文件少且大小固定场景，间接索引适用于文件多或大小变化大的场景。
- 磁盘空闲区管理方法包括空闲文件目录、空闲块链、位示图和成组链接法，位示图利用二进制位表示文件存储空间中的块的使用情况。

## 2 ※进程管理

**进程（Process）** 是计算机系统中正在运行的程序实例，具有一定的独立功能，并在某个数据集合上进行一次运行活动。==它是操作系统进行资源分配和调度的基本单位，也是操作系统结构的基础。==

**进程模型**：
- 进程是计算机系统中正在运行的程序实例，是操作系统进行资源分配和调度的基本单位。
- 进程的生命周期可以用一组状态刻画，分为三态模型和五态模型。
- 三态模型包括：
	- ==运行态（占有处理器正在运行）==
	- ==就绪态（具备运行条件，等待系统分配处理器）==
	- ==等待态（阻塞态，不具备运行条件，正在等待某个事件的完成）==

前趋图：

- 前趋图是一个有向无环图，用于描述进程之间的执行顺序。
- 结点可以表示进程、程序段或一条语句，结点间的有向边表示两个结点之间存在的偏序或前驱关系。

**同步与互斥**：
- ==进程同步是指在多个进程之间协调执行顺序，以保证它们按照既定的顺序共享资源。==
- ==进程互斥是指在不同进程间对某些关键资源进行独占访问，即某一时刻只有一个进程可以访问该资源。==
- ==同步强调先后次序，互斥强调对于资源不能同时占用。==

**PV 操作**：PV 操作是一种实现进程同步与互斥的有效方法，由两个原子操作组成：P（wait）操作和 V（signal）操作。
- P 操作：将信号量 S 的值减 1，若 S≥0，则执行 P 操作的进程继续执行；若 S<0，则置该进程为阻塞状态，并将其插入阻塞队列。
- V 操作：将信号量 S 的值加 1，若 S>0，则执行 V 操作的进程继续执行；若 S≤0，则从阻塞状态唤醒一个进程，并将其插入就绪队列，然后执行 V 操作的进程继续。

**死锁**：死锁是指两个或两个以上的进程无限期地等待永远不会发生的条件，系统处于一种停滞状态。
- 产生死锁的四个必要条件包括：
	- 互斥条件（任一时刻只允许一个进程使用资源）
	- 不剥夺条件（进程已经占用的资源不会被强制剥夺）
	- 请求与保持条件（进程在请求其余资源时不主动释放已经占有的资源）
	- 环路条件（环路中每一条边是进程在请求另一个进程已经占有的资源）。
- 死锁预防：对破坏 4 个必要条件进行，包括互斥条件（难改变且应保证）、不剥夺条件（实现复杂且有弊端）、请求与保持条件（简单但可能资源浪费和进程延迟）、环路条件（主要缺点是资源分配序号问题和限制编程）
- 死锁检测：保存资源请求和分配信息，用算法检查是否存在死锁，可通过资源分配图简化检测，有向图中回路可能表示死锁。
- 死锁避免：是设置安全状态，银行家算法（非常重要）用于判断系统状态是否安全，通过资源分配判断。
	- 银行家算法的基本思想是模拟银行放贷的策略，在进行资源分配之前，先预判此次分配是否会导致系统进入不安全状态。

## 3 ※内存管理

内存管理的基本原理是将系统的内存资源划分为多个逻辑空间，并在逻辑空间和物理内存之间建立映射关系，通过内存分配、内存回收等操作来管理内存资源的分配和释放。其主要目标是提高内存的利用率和效率，为系统提供高效、稳定的运行环境。

**内存映射**：
- 内存映射解决的问题是==程序逻辑地址到物理地址的转换==。
- **页式管理**：将主存空间和程序逻辑地址划分为固定大小的页面，使用页表将虚拟地址与物理地址进行转换。每个页面在物理内存中占据一个连续的内存块，称为页帧。==逻辑地址由页号和页内地址组成==。
- **段式管理**：把程序逻辑地址空间按段划分，每段是一个独立的逻辑实体，每个段分配一个连续的内存区，各段之间不要求连续。为了完成逻辑地址到物理地址的映射，需要查找段表。==逻辑地址由段号和段内地址组成==。

**虚拟内存**：
- 虚拟存储管理使得程序运行前不必全装入内存，可先装入部分启动，其他留外存，根据需要调入内存，内存满时置换。
- 这种机制可以使大程序在小内存中运行，支持多进程并发，系统具有请求调入和置换功能，从用户角度看内存容量得到了扩充。
- ==常见的页面淘汰算法包括：随机算法、轮转算法、先进先出（FIFO）算法、最近最久未使用（LRU）算法、最近没有使用页面置换算法（NUR）、最优置换算法、时钟页面替换算法（Clock）。==
- ==LRU 算法在需要淘汰某一页时，选择离当前时间最近的一段时间内最久没有使用过的页先淘汰。==

## 4 ※文件系统

**文件索引**：
- **直接索引**：直接索引简单高效，适用于文件少且大小固定场景，查找速度快。
- **间接索引**：间接索引节点存储指向其他索引节点的指针，包括一级间接索引（指向单层索引表）和二级间接索引（通过一级索引找中间索引表再找数据块地址），适用于文件多或大小变化大的场景。

**磁盘空闲区管理**：
- 磁盘空闲区管理用于登记空闲区的分布情况、按需要给一个文件分配存储空间，以及收回不再保留的文件所占的存储空间。
- 常用的磁盘空闲区管理方法包括：
		- **空闲文件目录**：记录空闲区的起始位置和长度。
		- **空闲块链**：将空闲块链接成链表。
		- **位示图**：利用二进制的 1 位来表示文件存储空间中的 1 个块的使用情况。
		- **成组链接法**：将空闲块分组，每组有一个索引节点记录该组空闲块的信息。
